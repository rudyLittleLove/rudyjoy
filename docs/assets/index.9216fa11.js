import{I as C,aX as g,K as y,aY as z,aZ as I,g as E,a_ as L,at as R,j as w,a$ as F,a7 as P,O as D,N as $,b0 as J,aE as j}from"./index.4f85e2aa.js";function p(s){var t;const i=I(s);return(t=i==null?void 0:i.$el)!=null?t:i}const O=C?window:void 0,k=C?window.document:void 0;function A(...s){let t,i,r,f;if(typeof s[0]=="string"||Array.isArray(s[0])?([i,r,f]=s,t=O):[t,i,r,f]=s,!t)return g;Array.isArray(i)||(i=[i]),Array.isArray(r)||(r=[r]);const c=[],d=()=>{c.forEach(l=>l()),c.length=0},a=(l,n,e,o)=>(l.addEventListener(n,e,o),()=>l.removeEventListener(n,e,o)),v=y(()=>[p(t),I(f)],([l,n])=>{if(d(),!l)return;const e=z(n)?{...n}:n;c.push(...i.flatMap(o=>r.map(u=>a(l,o,u,e))))},{immediate:!0,flush:"post"}),m=()=>{v(),d()};return R(m),m}let N=!1;function G(s,t,i={}){const{window:r=O,ignore:f=[],capture:c=!0,detectIframe:d=!1}=i;if(!r)return g;j&&!N&&(N=!0,Array.from(r.document.body.children).forEach(e=>e.addEventListener("click",g)),r.document.documentElement.addEventListener("click",g));let a=!0;const v=e=>f.some(o=>{if(typeof o=="string")return Array.from(r.document.querySelectorAll(o)).some(u=>u===e.target||e.composedPath().includes(u));{const u=p(o);return u&&(e.target===u||e.composedPath().includes(u))}}),l=[A(r,"click",e=>{const o=p(s);if(!(!o||o===e.target||e.composedPath().includes(o))){if(e.detail===0&&(a=!v(e)),!a){a=!0;return}t(e)}},{passive:!0,capture:c}),A(r,"pointerdown",e=>{const o=p(s);a=!v(e)&&!!(o&&!e.composedPath().includes(o))},{passive:!0}),d&&A(r,"blur",e=>{setTimeout(()=>{var o;const u=p(s);((o=r.document.activeElement)==null?void 0:o.tagName)==="IFRAME"&&!(u!=null&&u.contains(r.document.activeElement))&&t(e)},0)})].filter(Boolean);return()=>l.forEach(e=>e())}function H(){const s=w(!1),t=$();return t&&D(()=>{s.value=!0},t),s}function V(s){const t=H();return E(()=>(t.value,Boolean(s())))}function K(s,t,i={}){const{window:r=O,...f}=i;let c;const d=V(()=>r&&"MutationObserver"in r),a=()=>{c&&(c.disconnect(),c=void 0)},v=E(()=>{const e=I(s),o=(Array.isArray(e)?e:[e]).map(p).filter(L);return new Set(o)}),m=y(()=>v.value,e=>{a(),d.value&&e.size&&(c=new MutationObserver(t),e.forEach(o=>c.observe(o,f)))},{immediate:!0,flush:"post"}),l=()=>c==null?void 0:c.takeRecords(),n=()=>{a(),m()};return R(n),{isSupported:d,stop:n,takeRecords:l}}function T(s){return JSON.parse(JSON.stringify(s))}function X(s={}){const{document:t=k}=s;if(!t)return w("visible");const i=w(t.visibilityState);return A(t,"visibilitychange",()=>{i.value=t.visibilityState}),i}function U(s,t,i={}){const{window:r=O,...f}=i;let c;const d=V(()=>r&&"ResizeObserver"in r),a=()=>{c&&(c.disconnect(),c=void 0)},v=E(()=>Array.isArray(s)?s.map(n=>p(n)):[p(s)]),m=y(v,n=>{if(a(),d.value&&r){c=new ResizeObserver(t);for(const e of n)e&&c.observe(e,f)}},{immediate:!0,flush:"post"}),l=()=>{a(),m()};return R(l),{isSupported:d,stop:l}}function Y(s,t={width:0,height:0},i={}){const{window:r=O,box:f="content-box"}=i,c=E(()=>{var n,e;return(e=(n=p(s))==null?void 0:n.namespaceURI)==null?void 0:e.includes("svg")}),d=w(t.width),a=w(t.height),{stop:v}=U(s,([n])=>{const e=f==="border-box"?n.borderBoxSize:f==="content-box"?n.contentBoxSize:n.devicePixelContentBoxSize;if(r&&c.value){const o=p(s);if(o){const u=o.getBoundingClientRect();d.value=u.width,a.value=u.height}}else if(e){const o=Array.isArray(e)?e:[e];d.value=o.reduce((u,{inlineSize:b})=>u+b,0),a.value=o.reduce((u,{blockSize:b})=>u+b,0)}else d.value=n.contentRect.width,a.value=n.contentRect.height},i);F(()=>{const n=p(s);n&&(d.value="offsetWidth"in n?n.offsetWidth:t.width,a.value="offsetHeight"in n?n.offsetHeight:t.height)});const m=y(()=>p(s),n=>{d.value=n?t.width:0,a.value=n?t.height:0});function l(){v(),m()}return{width:d,height:a,stop:l}}function Z(s,t,i={}){const{root:r,rootMargin:f="0px",threshold:c=.1,window:d=O,immediate:a=!0}=i,v=V(()=>d&&"IntersectionObserver"in d),m=E(()=>{const u=I(s);return(Array.isArray(u)?u:[u]).map(p).filter(L)});let l=g;const n=w(a),e=v.value?y(()=>[m.value,p(r),n.value],([u,b])=>{if(l(),!n.value||!u.length)return;const S=new IntersectionObserver(t,{root:p(b),rootMargin:f,threshold:c});u.forEach(x=>x&&S.observe(x)),l=()=>{S.disconnect(),l=g}},{immediate:a,flush:"post"}):g,o=()=>{l(),e(),n.value=!1};return R(o),{isSupported:v,isActive:n,pause(){l(),n.value=!1},resume(){n.value=!0},stop:o}}function Q(s,t,i,r={}){var f,c,d;const{clone:a=!1,passive:v=!1,eventName:m,deep:l=!1,defaultValue:n,shouldEmit:e}=r,o=$(),u=i||(o==null?void 0:o.emit)||((f=o==null?void 0:o.$emit)==null?void 0:f.bind(o))||((d=(c=o==null?void 0:o.proxy)==null?void 0:c.$emit)==null?void 0:d.bind(o==null?void 0:o.proxy));let b=m;t||(t="modelValue"),b=b||`update:${t.toString()}`;const S=h=>a?typeof a=="function"?a(h):T(h):h,x=()=>J(s[t])?S(s[t]):n,B=h=>{e?e(h)&&u(b,h):u(b,h)};if(v){const h=x(),W=w(h);let M=!1;return y(()=>s[t],_=>{M||(M=!0,W.value=S(_),P(()=>M=!1))}),y(W,_=>{!M&&(_!==s[t]||l)&&B(_)},{deep:l}),W}else return E({get(){return x()},set(h){B(h)}})}function ee(s={}){const{window:t=O}=s;if(!t)return w(!1);const i=w(t.document.hasFocus());return A(t,"blur",()=>{i.value=!1}),A(t,"focus",()=>{i.value=!0}),i}export{A as a,p as b,K as c,Z as d,X as e,ee as f,Y as g,Q as h,G as o,U as u};

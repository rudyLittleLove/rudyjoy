import{ai as A,b6 as x,af as I,b7 as P,b8 as y,b4 as k,ah as w,b9 as F,l as S,a5 as L,j as C,K as N,e as h,av as b,N as R,a7 as _}from"./index.4f85e2aa.js";import{f as K}from"./event.4c24acf5.js";import{a as g}from"./index.9216fa11.js";function Q(){if(!arguments.length)return[];var t=arguments[0];return A(t)?t:[t]}function O(t,n){return t!=null&&n in Object(t)}function U(t,n,r){n=x(n,t);for(var e=-1,s=n.length,u=!1;++e<s;){var l=I(n[e]);if(!(u=t!=null&&r(t,l)))break;t=t[l]}return u||++e!=s?u:(s=t==null?0:t.length,!!s&&P(s)&&y(l,s)&&(A(t)||k(t)))}function B(t,n){return t!=null&&U(t,n,O)}function H(t,n,r){for(var e=-1,s=n.length,u={};++e<s;){var l=n[e],a=w(t,l);r(a,l)&&F(u,x(l,t),a)}return u}function z(t,n){return H(t,n,function(r,e){return B(t,e)})}var D=K(function(t,n){return t==null?{}:z(t,n)}),G=D;const M=S({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),V=t=>G(M,t),m=t=>typeof Element=="undefined"?!1:t instanceof Element,E=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.tabIndex<0||t.hasAttribute("disabled")||t.getAttribute("aria-disabled")==="true")return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},W=(t,n)=>{if(!t||!t.focus)return;let r=!1;m(t)&&!E(t)&&!t.getAttribute("tabindex")&&(t.setAttribute("tabindex","-1"),r=!0),t.focus(n),m(t)&&r&&t.removeAttribute("tabindex")};function Y(t,{disabled:n,beforeFocus:r,afterFocus:e,beforeBlur:s,afterBlur:u}={}){const l=R(),{emit:a}=l,o=L(),f=C(!1),d=i=>{const c=b(r)?r(i):!1;h(n)||f.value||c||(f.value=!0,a("focus",i),e==null||e())},p=i=>{var c;const v=b(s)?s(i):!1;h(n)||i.relatedTarget&&((c=o.value)==null?void 0:c.contains(i.relatedTarget))||v||(f.value=!1,a("blur",i),u==null||u())},T=i=>{var c,v;h(n)||E(i.target)||((c=o.value)==null?void 0:c.contains(document.activeElement))&&o.value!==document.activeElement||(v=t.value)==null||v.focus()};return N([o,()=>h(n)],([i,c])=>{!i||(c?i.removeAttribute("tabindex"):i.setAttribute("tabindex","-1"))}),g(o,"focus",d,!0),g(o,"blur",p,!0),g(o,"click",T,!0),{isFocused:f,wrapperRef:o,handleFocus:d,handleBlur:p}}const X=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t);function Z({afterComposition:t,emit:n}){const r=C(!1),e=a=>{n==null||n("compositionstart",a),r.value=!0},s=a=>{var o;n==null||n("compositionupdate",a);const f=(o=a.target)==null?void 0:o.value,d=f[f.length-1]||"";r.value=!X(d)},u=a=>{n==null||n("compositionend",a),r.value&&(r.value=!1,_(()=>t(a)))};return{isComposing:r,handleComposition:a=>{a.type==="compositionend"?u(a):s(a)},handleCompositionStart:e,handleCompositionUpdate:s,handleCompositionEnd:u}}export{Y as a,Z as b,Q as c,W as f,B as h,E as i,G as p,V as u};
